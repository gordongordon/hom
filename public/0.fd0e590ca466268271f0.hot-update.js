webpackHotUpdate(0,{

/***/ 881:
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.propertys = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _desc, _value, _class, _descriptor, _descriptor2, _descriptor3, _class2, _temp, _initialiseProps;\n\nvar _mobx = __webpack_require__(294);\n\nvar _firebaseStore = __webpack_require__(882);\n\nvar _propertyhk = __webpack_require__(884);\n\nvar _property = __webpack_require__(885);\n\nvar _mobxStore = __webpack_require__(295);\n\nvar _mobxStore2 = _interopRequireDefault(_mobxStore);\n\nvar _firebase = __webpack_require__(297);\n\nvar _firebase2 = _interopRequireDefault(_firebase);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _initDefineProp(target, property, descriptor, context) {\n  if (!descriptor) return;\n  Object.defineProperty(target, property, {\n    enumerable: descriptor.enumerable,\n    configurable: descriptor.configurable,\n    writable: descriptor.writable,\n    value: descriptor.initializer ? descriptor.initializer.call(context) : void 0\n  });\n}\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\nfunction _initializerWarningHelper(descriptor, context) {\n  throw new Error('Decorating class property failed. Please ensure that transform-class-properties is enabled.');\n}\n\n// List of user properties, to be .on\n// propertyViewModel\nvar PropertysViewModel = (_class = (_temp = _class2 = function () {\n\n  //@observable matchedPropertys = observable.map({});\n\n  //@observable propertys = map({});\n  //@observable propertys = new Map();\n\n  function PropertysViewModel() {\n    _classCallCheck(this, PropertysViewModel);\n\n    _initialiseProps.call(this);\n\n    var that = this;\n    //var uid = MobxStore.app.uid;\n    // Mayn't need that\n    //that.propertys.clear();\n\n    //console.log('size b', this.propertys.size )\n    // Fb.app.propertysRef.on('value', (snapshot) => {\n    //   console.log( 'snapshot.val', snapshot.val());\n    //   this.propertys = snapshot.val();\n    //\n    //   console.log('size', this.propertys.size )\n    //   console.log( 'snapshot.size ', snapshot.numChildren() );\n    // });\n\n    // Fb.app.propertysRef.orderByChild(\"price\").on('child_added', (snapshot) => {\n    //   console.log( 'snapshot.val', snapshot.val());\n    //   this.propertys = snapshot.val();\n    //\n    //   //console.log('size', this.propertys.size )\n    //   console.log( 'snapshot.size ', snapshot.numChildren() );\n    // });\n\n\n    // Fb.app.matchedPropertysRef.on('value',function(snap) {\n    //      snap.forEach(function(item) {\n    //         that.matchedPropertys.set( item.key, item.val() );\n    //         //console.log( item.key, item.val() )\n    //         console.log('that.propertys.size', that.matchPpropertys.size)\n    //     });\n    // });\n\n\n    //     // Handle Child_added\n    //     if ( Fb.app.propertysRef !== undefined ) {\n    //     Fb.app.propertysRef.on('child_added', (snapshot) => {\n    //\n    //             console.log( \"fire\", snapshot.val() )\n    //             var p = new Propertyhk();\n    //\n    //            // Tobe Testing.\n    //             // p = { ...p, ...snapshot.val() }\n    //\n    //             // restore can be imppletemt  deserialize\n    //             p.restore( snapshot.val() )\n    //             console.log( 'p', p)\n    // //            console.log( 'snapddd', snapshot.val() )\n    //             // p.done = snapshot.val().done\n    //             // p.contactName = snapshot.val().contactName\n    //             // p.nameOfBuilding = snapshot.val().nameOfBuilding;\n    //             // p.location = snapshot.val().location\n    //             // p.nearByMtrLine = snapshot.val().nearByMtrLine\n    //             // p.nearByMtrStop = snapshot.val().nearByMtrStop\n    //             // p.salePrice = snapshot.val().salePrice\n    //             // p.typeTo = snapshot.val().typeTo\n    //             // p.typeBy = snapshot.val().typeBy\n    //             // p.typeFor = snapshot.val().typeFor\n    //\n    //             p.buildMatchProperty( snapshot.key, p.typeFor, p.location);\n    //\n    //             console.log( 'child_add - psvm.matchedPropertys.size', p.matchedPropertys.size );\n    //             that.propertys.set( snapshot.key, p );\n    //     });\n    //\n    //    // Handle child_removed\n    //    Fb.app.propertysRef.on('child_removed', (snapshot) => {\n    //                 that.propertys.delete( snapshot.key );\n    //                 // console.log('that.propertys.size', that.propertys.size)\n    //    });\n    //  }  // End of if null\n\n  }\n\n  _createClass(PropertysViewModel, [{\n    key: 'json',\n    get: function get() {\n      console.log('json', this.propertys);\n      return (0, _mobx.toJS)(this.propertys);\n    }\n\n    // init propertysViewModel, for mobx,\n    // can't be used inside constructor, otherwise error\n    // when app start will call an empty constructor\n\n    //\n    // addPropertyForSale = ( nearByMtrLine, nearByMtrStop, netSize, salePrice, numOfRoom, numofBathroom, contactName, contactPhone, contactEmail) =>\n    // {\n    //   var p = new Property();\n    //\n    //\n    //   p.nearByMtrLine = nearByMtrLine;\n    //   p.nearByMtrStop = nearByMtrStop;\n    //   p.netSize = parseInt(netSize);\n    //   p.salePrice = parseInt(salePrice);\n    //   p.numOfRoom = parseInt(numOfRoom);\n    //   p.numofBathroom = parseInt(numofBathroom);\n    //   p.contactName = contactName;\n    //   p.contactPhone = parseInt(contactPhone);\n    //   p.contactEmail = contactEmail;\n    //\n    //   const id = Fb.app.propertysRef.push().key;\n    //   Fb.app.propertysRef.update( {[id]:  p.serialize() });\n    // }\n    //\n    //\n    // // For testing only must create first\n    // addProperty(userName, nameOfBuilding, location, typeTo, typeBy, typeFor, price ){\n    //     var p = this.property = new Propertyhk();\n    //     p.done = false\n    //     p.contactName = userName\n    //     p.nameOfBuilding = nameOfBuilding\n    //     p.location = location\n    //     p.salePrice = parseInt(price)\n    //     p.typeTo = typeTo\n    //     p.typeBy = typeBy\n    //     p.typeFor = typeFor\n    //\n    //     const id = Fb.app.propertysRef.push().key;\n    //     Fb.app.propertysRef.update( {[id]:  p.serialize() });\n    // }\n    //\n    // writeNewPost = (uid, username, picture, title, body) => {\n    //   // A post entry.\n    //   var postData = {\n    //     author: username,\n    //     uid: uid,\n    //     body: body,\n    //     title: title,\n    //     starCount: 0,\n    //     authorPic: picture\n    //   };\n\n    // Get a key for a new Post.\n    // var newPostKey = Fb.app.propertysRef.child('posts').push().key;\n\n    // Write the new post's data simultaneously in the posts list and the user's post list.\n    //   var updates = {};\n    //   updates['/posts/' + newPostKey] = postData;\n    //   updates['/user-posts/' + uid + '/' + newPostKey] = postData;\n    //\n    //   return Fb.app.propertysRef.update(updates);\n    // }\n\n    /**\r\n     * @compareTo is name of variable e.g. name, price, location\r\n     * @valueTo   is value equal to.  e.g. 'shatin'\r\n     * return\r\n     */\n\n  }]);\n\n  return PropertysViewModel;\n}(), _initialiseProps = function _initialiseProps() {\n  var _this = this;\n\n  _initDefineProp(this, 'propertys', _descriptor, this);\n\n  _initDefineProp(this, 'init', _descriptor2, this);\n\n  this.add = function (name) {\n    var id = _firebaseStore.Fb.app.usersRef.push().key;\n    _this.update(id, name);\n  };\n\n  this.getMatchProperty = function (id, compareTo, valueTo) {\n    var that = _this;\n    console.log('match');\n\n    //this.writeNewPost( 1233, 'gordon', 'picture', 'title', 'body')\n\n    // Handle match propertys\n    _firebaseStore.Fb.app.usersRef.orderByChild(compareTo).equalTo(valueTo).on(\"child_added\", function (snap) {\n\n      _firebaseStore.Fb.app.matchedPropertysRef.child(snap.key).set(snap.val());\n      //          Fb.app.propertysRef.update( { snap.key : { } })\n      that.matchedPropertys.set(snap.key, snap.val());\n      console.log('matchProperty.size', that.matchedPropertys.size);\n    });\n\n    _firebaseStore.Fb.app.usersRef.orderByChild(compareTo).equalTo(valueTo).on(\"child_removed\", function (snap) {\n\n      that.matchedPropertys.delete(snap.key);\n      console.log('matchProperty.size', that.matchedPropertys.size);\n    });\n  };\n\n  this.update = function (id, name) {\n    _firebaseStore.Fb.app.propertysRef.update(_defineProperty({}, id, { name: name }));\n  };\n\n  this.del = function (id) {\n    _firebaseStore.Fb.app.propertysRef.child(id).remove();\n    _firebaseStore.Fb.propertys.child(id).remove();\n    //this.propertys.delete( id );\n  };\n\n  _initDefineProp(this, 'clear', _descriptor3, this);\n}, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, 'propertys', [_mobx.observable], {\n  enumerable: true,\n  initializer: function initializer() {\n    return new Map();\n  }\n}), _applyDecoratedDescriptor(_class.prototype, 'json', [_mobx.computed], Object.getOwnPropertyDescriptor(_class.prototype, 'json'), _class.prototype), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, 'init', [_mobx.action], {\n  enumerable: true,\n  initializer: function initializer() {\n    var _this2 = this;\n\n    return function () {\n      var that = _this2;\n      // Handle Child_added\n      //if ( Fb.app.propertysRef !== undefined ) {\n      _firebaseStore.Fb.app.usersRef.on('child_added', function (snapshot) {\n\n        console.log(\"fire\", snapshot.val());\n        var p = new _propertyhk.Propertyhk();\n\n        // restore can be imppletemt  deserialize\n        p.restore(snapshot.val());\n        console.log('p', p);\n\n        p.buildMatchProperty(snapshot.key, p.typeFor, p.location);\n\n        console.log('child_add - psvm.matchedPropertys.size', p.matchedPropertys.size);\n        that.propertys.set(snapshot.key, p);\n      });\n\n      // Handle child_removed\n      _firebaseStore.Fb.app.usersRef.on('child_removed', function (snapshot) {\n        that.propertys.delete(snapshot.key);\n        // console.log('that.propertys.size', that.propertys.size)\n      });\n      //}  // End of if null\n    };\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, 'clear', [_mobx.action], {\n  enumerable: true,\n  initializer: function initializer() {\n    var _this3 = this;\n\n    return function () {\n      _this3.propertys.clear();\n      _this3.ownPropertys.clear();\n    };\n  }\n})), _class);\n\n\nvar propertys = new PropertysViewModel();\nexports.propertys = propertys;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODgxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9zdG9yZS9wcm9wZXJ0eXNWaWV3TW9kZWwuanM/YzQ0NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge29ic2VydmFibGUsIGNvbXB1dGVkLCBhY3Rpb259IGZyb20gJ21vYngnO1xyXG5pbXBvcnQge0ZifSBmcm9tICdmaXJlYmFzZS1zdG9yZSc7XHJcbmltcG9ydCB7dG9KU30gZnJvbSAnbW9ieCc7XHJcbmltcG9ydCB7UHJvcGVydHloa30gZnJvbSAncHJvcGVydHloaydcclxuaW1wb3J0IHtQcm9wZXJ0eX0gZnJvbSAncHJvcGVydHknXHJcbmltcG9ydCBNb2J4U3RvcmUgZnJvbSAnbW9ieFN0b3JlJztcclxuaW1wb3J0IGZpcmViYXNlIGZyb20gJ2ZpcmViYXNlJztcclxuXHJcblxyXG4vLyBMaXN0IG9mIHVzZXIgcHJvcGVydGllcywgdG8gYmUgLm9uXHJcbi8vIHByb3BlcnR5Vmlld01vZGVsXHJcbmNsYXNzIFByb3BlcnR5c1ZpZXdNb2RlbCB7XHJcblxyXG4vLyAgQG9ic2VydmFibGUgcHJvcGVydHlzID0gb2JzZXJ2YWJsZS5tYXAoe30pO1xyXG4vLyAgQG9ic2VydmFibGUgcHJvcGVydHlzID0gb2JzZXJ2YWJsZS5tYXAoe30pO1xyXG4gIEBvYnNlcnZhYmxlIHByb3BlcnR5cyA9IG5ldyBNYXAoKTtcclxuXHJcbiAgLy9Ab2JzZXJ2YWJsZSBtYXRjaGVkUHJvcGVydHlzID0gb2JzZXJ2YWJsZS5tYXAoe30pO1xyXG5cclxuICAvL0BvYnNlcnZhYmxlIHByb3BlcnR5cyA9IG1hcCh7fSk7XHJcbiAgLy9Ab2JzZXJ2YWJsZSBwcm9wZXJ0eXMgPSBuZXcgTWFwKCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdmFyIHRoYXQgPSB0aGlzO1xyXG4gICAgLy92YXIgdWlkID0gTW9ieFN0b3JlLmFwcC51aWQ7XHJcbiAgICAvLyBNYXluJ3QgbmVlZCB0aGF0XHJcbiAgICAvL3RoYXQucHJvcGVydHlzLmNsZWFyKCk7XHJcblxyXG4gICAgLy9jb25zb2xlLmxvZygnc2l6ZSBiJywgdGhpcy5wcm9wZXJ0eXMuc2l6ZSApXHJcbiAgICAvLyBGYi5hcHAucHJvcGVydHlzUmVmLm9uKCd2YWx1ZScsIChzbmFwc2hvdCkgPT4ge1xyXG4gICAgLy8gICBjb25zb2xlLmxvZyggJ3NuYXBzaG90LnZhbCcsIHNuYXBzaG90LnZhbCgpKTtcclxuICAgIC8vICAgdGhpcy5wcm9wZXJ0eXMgPSBzbmFwc2hvdC52YWwoKTtcclxuICAgIC8vXHJcbiAgICAvLyAgIGNvbnNvbGUubG9nKCdzaXplJywgdGhpcy5wcm9wZXJ0eXMuc2l6ZSApXHJcbiAgICAvLyAgIGNvbnNvbGUubG9nKCAnc25hcHNob3Quc2l6ZSAnLCBzbmFwc2hvdC5udW1DaGlsZHJlbigpICk7XHJcbiAgICAvLyB9KTtcclxuXHJcbiAgICAvLyBGYi5hcHAucHJvcGVydHlzUmVmLm9yZGVyQnlDaGlsZChcInByaWNlXCIpLm9uKCdjaGlsZF9hZGRlZCcsIChzbmFwc2hvdCkgPT4ge1xyXG4gICAgLy8gICBjb25zb2xlLmxvZyggJ3NuYXBzaG90LnZhbCcsIHNuYXBzaG90LnZhbCgpKTtcclxuICAgIC8vICAgdGhpcy5wcm9wZXJ0eXMgPSBzbmFwc2hvdC52YWwoKTtcclxuICAgIC8vXHJcbiAgICAvLyAgIC8vY29uc29sZS5sb2coJ3NpemUnLCB0aGlzLnByb3BlcnR5cy5zaXplIClcclxuICAgIC8vICAgY29uc29sZS5sb2coICdzbmFwc2hvdC5zaXplICcsIHNuYXBzaG90Lm51bUNoaWxkcmVuKCkgKTtcclxuICAgIC8vIH0pO1xyXG5cclxuXHJcbiAgICAvLyBGYi5hcHAubWF0Y2hlZFByb3BlcnR5c1JlZi5vbigndmFsdWUnLGZ1bmN0aW9uKHNuYXApIHtcclxuICAgIC8vICAgICAgc25hcC5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgIC8vICAgICAgICAgdGhhdC5tYXRjaGVkUHJvcGVydHlzLnNldCggaXRlbS5rZXksIGl0ZW0udmFsKCkgKTtcclxuICAgIC8vICAgICAgICAgLy9jb25zb2xlLmxvZyggaXRlbS5rZXksIGl0ZW0udmFsKCkgKVxyXG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZygndGhhdC5wcm9wZXJ0eXMuc2l6ZScsIHRoYXQubWF0Y2hQcHJvcGVydHlzLnNpemUpXHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyB9KTtcclxuXHJcblxyXG4vLyAgICAgLy8gSGFuZGxlIENoaWxkX2FkZGVkXHJcbi8vICAgICBpZiAoIEZiLmFwcC5wcm9wZXJ0eXNSZWYgIT09IHVuZGVmaW5lZCApIHtcclxuLy8gICAgIEZiLmFwcC5wcm9wZXJ0eXNSZWYub24oJ2NoaWxkX2FkZGVkJywgKHNuYXBzaG90KSA9PiB7XHJcbi8vXHJcbi8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKCBcImZpcmVcIiwgc25hcHNob3QudmFsKCkgKVxyXG4vLyAgICAgICAgICAgICB2YXIgcCA9IG5ldyBQcm9wZXJ0eWhrKCk7XHJcbi8vXHJcbi8vICAgICAgICAgICAgLy8gVG9iZSBUZXN0aW5nLlxyXG4vLyAgICAgICAgICAgICAvLyBwID0geyAuLi5wLCAuLi5zbmFwc2hvdC52YWwoKSB9XHJcbi8vXHJcbi8vICAgICAgICAgICAgIC8vIHJlc3RvcmUgY2FuIGJlIGltcHBsZXRlbXQgIGRlc2VyaWFsaXplXHJcbi8vICAgICAgICAgICAgIHAucmVzdG9yZSggc25hcHNob3QudmFsKCkgKVxyXG4vLyAgICAgICAgICAgICBjb25zb2xlLmxvZyggJ3AnLCBwKVxyXG4vLyAvLyAgICAgICAgICAgIGNvbnNvbGUubG9nKCAnc25hcGRkZCcsIHNuYXBzaG90LnZhbCgpIClcclxuLy8gICAgICAgICAgICAgLy8gcC5kb25lID0gc25hcHNob3QudmFsKCkuZG9uZVxyXG4vLyAgICAgICAgICAgICAvLyBwLmNvbnRhY3ROYW1lID0gc25hcHNob3QudmFsKCkuY29udGFjdE5hbWVcclxuLy8gICAgICAgICAgICAgLy8gcC5uYW1lT2ZCdWlsZGluZyA9IHNuYXBzaG90LnZhbCgpLm5hbWVPZkJ1aWxkaW5nO1xyXG4vLyAgICAgICAgICAgICAvLyBwLmxvY2F0aW9uID0gc25hcHNob3QudmFsKCkubG9jYXRpb25cclxuLy8gICAgICAgICAgICAgLy8gcC5uZWFyQnlNdHJMaW5lID0gc25hcHNob3QudmFsKCkubmVhckJ5TXRyTGluZVxyXG4vLyAgICAgICAgICAgICAvLyBwLm5lYXJCeU10clN0b3AgPSBzbmFwc2hvdC52YWwoKS5uZWFyQnlNdHJTdG9wXHJcbi8vICAgICAgICAgICAgIC8vIHAuc2FsZVByaWNlID0gc25hcHNob3QudmFsKCkuc2FsZVByaWNlXHJcbi8vICAgICAgICAgICAgIC8vIHAudHlwZVRvID0gc25hcHNob3QudmFsKCkudHlwZVRvXHJcbi8vICAgICAgICAgICAgIC8vIHAudHlwZUJ5ID0gc25hcHNob3QudmFsKCkudHlwZUJ5XHJcbi8vICAgICAgICAgICAgIC8vIHAudHlwZUZvciA9IHNuYXBzaG90LnZhbCgpLnR5cGVGb3JcclxuLy9cclxuLy8gICAgICAgICAgICAgcC5idWlsZE1hdGNoUHJvcGVydHkoIHNuYXBzaG90LmtleSwgcC50eXBlRm9yLCBwLmxvY2F0aW9uKTtcclxuLy9cclxuLy8gICAgICAgICAgICAgY29uc29sZS5sb2coICdjaGlsZF9hZGQgLSBwc3ZtLm1hdGNoZWRQcm9wZXJ0eXMuc2l6ZScsIHAubWF0Y2hlZFByb3BlcnR5cy5zaXplICk7XHJcbi8vICAgICAgICAgICAgIHRoYXQucHJvcGVydHlzLnNldCggc25hcHNob3Qua2V5LCBwICk7XHJcbi8vICAgICB9KTtcclxuLy9cclxuLy8gICAgLy8gSGFuZGxlIGNoaWxkX3JlbW92ZWRcclxuLy8gICAgRmIuYXBwLnByb3BlcnR5c1JlZi5vbignY2hpbGRfcmVtb3ZlZCcsIChzbmFwc2hvdCkgPT4ge1xyXG4vLyAgICAgICAgICAgICAgICAgdGhhdC5wcm9wZXJ0eXMuZGVsZXRlKCBzbmFwc2hvdC5rZXkgKTtcclxuLy8gICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd0aGF0LnByb3BlcnR5cy5zaXplJywgdGhhdC5wcm9wZXJ0eXMuc2l6ZSlcclxuLy8gICAgfSk7XHJcbi8vICB9ICAvLyBFbmQgb2YgaWYgbnVsbFxyXG5cclxuXHJcblxyXG4gIH1cclxuXHJcbiAgQGNvbXB1dGVkIGdldCBqc29uKCkge1xyXG4gICAgY29uc29sZS5sb2coJ2pzb24nLCB0aGlzLnByb3BlcnR5cylcclxuICAgIHJldHVybiB0b0pTKHRoaXMucHJvcGVydHlzKTtcclxuICB9XHJcblxyXG5cclxuICAvLyBpbml0IHByb3BlcnR5c1ZpZXdNb2RlbCwgZm9yIG1vYngsXHJcbiAgLy8gY2FuJ3QgYmUgdXNlZCBpbnNpZGUgY29uc3RydWN0b3IsIG90aGVyd2lzZSBlcnJvclxyXG4gIC8vIHdoZW4gYXBwIHN0YXJ0IHdpbGwgY2FsbCBhbiBlbXB0eSBjb25zdHJ1Y3RvclxyXG4gIEBhY3Rpb25cclxuICBpbml0ID0gKCkgPT4ge1xyXG4gICAgY29uc3QgdGhhdCA9IHRoaXM7XHJcbiAgICAvLyBIYW5kbGUgQ2hpbGRfYWRkZWRcclxuICAgIC8vaWYgKCBGYi5hcHAucHJvcGVydHlzUmVmICE9PSB1bmRlZmluZWQgKSB7XHJcbiAgICBGYi5hcHAudXNlcnNSZWYub24oJ2NoaWxkX2FkZGVkJywgKHNuYXBzaG90KSA9PiB7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyggXCJmaXJlXCIsIHNuYXBzaG90LnZhbCgpIClcclxuICAgICAgICAgICAgdmFyIHAgPSBuZXcgUHJvcGVydHloaygpO1xyXG5cclxuICAgICAgICAgICAgLy8gcmVzdG9yZSBjYW4gYmUgaW1wcGxldGVtdCAgZGVzZXJpYWxpemVcclxuICAgICAgICAgICAgcC5yZXN0b3JlKCBzbmFwc2hvdC52YWwoKSApXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCAncCcsIHApXHJcblxyXG4gICAgICAgICAgICBwLmJ1aWxkTWF0Y2hQcm9wZXJ0eSggc25hcHNob3Qua2V5LCBwLnR5cGVGb3IsIHAubG9jYXRpb24pO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coICdjaGlsZF9hZGQgLSBwc3ZtLm1hdGNoZWRQcm9wZXJ0eXMuc2l6ZScsIHAubWF0Y2hlZFByb3BlcnR5cy5zaXplICk7XHJcbiAgICAgICAgICAgIHRoYXQucHJvcGVydHlzLnNldCggc25hcHNob3Qua2V5LCBwICk7XHJcbiAgICB9KTtcclxuXHJcbiAgIC8vIEhhbmRsZSBjaGlsZF9yZW1vdmVkXHJcbiAgIEZiLmFwcC51c2Vyc1JlZi5vbignY2hpbGRfcmVtb3ZlZCcsIChzbmFwc2hvdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5wcm9wZXJ0eXMuZGVsZXRlKCBzbmFwc2hvdC5rZXkgKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd0aGF0LnByb3BlcnR5cy5zaXplJywgdGhhdC5wcm9wZXJ0eXMuc2l6ZSlcclxuICAgfSk7XHJcbiAvL30gIC8vIEVuZCBvZiBpZiBudWxsXHJcblxyXG4gIH1cclxuXHJcbiAgYWRkID0gKG5hbWUpID0+IHtcclxuICAgIGNvbnN0IGlkID0gRmIuYXBwLnVzZXJzUmVmLnB1c2goKS5rZXk7XHJcbiAgICB0aGlzLnVwZGF0ZShpZCwgbmFtZSApO1xyXG4gIH07XHJcbiAgLy9cclxuICAvLyBhZGRQcm9wZXJ0eUZvclNhbGUgPSAoIG5lYXJCeU10ckxpbmUsIG5lYXJCeU10clN0b3AsIG5ldFNpemUsIHNhbGVQcmljZSwgbnVtT2ZSb29tLCBudW1vZkJhdGhyb29tLCBjb250YWN0TmFtZSwgY29udGFjdFBob25lLCBjb250YWN0RW1haWwpID0+XHJcbiAgLy8ge1xyXG4gIC8vICAgdmFyIHAgPSBuZXcgUHJvcGVydHkoKTtcclxuICAvL1xyXG4gIC8vXHJcbiAgLy8gICBwLm5lYXJCeU10ckxpbmUgPSBuZWFyQnlNdHJMaW5lO1xyXG4gIC8vICAgcC5uZWFyQnlNdHJTdG9wID0gbmVhckJ5TXRyU3RvcDtcclxuICAvLyAgIHAubmV0U2l6ZSA9IHBhcnNlSW50KG5ldFNpemUpO1xyXG4gIC8vICAgcC5zYWxlUHJpY2UgPSBwYXJzZUludChzYWxlUHJpY2UpO1xyXG4gIC8vICAgcC5udW1PZlJvb20gPSBwYXJzZUludChudW1PZlJvb20pO1xyXG4gIC8vICAgcC5udW1vZkJhdGhyb29tID0gcGFyc2VJbnQobnVtb2ZCYXRocm9vbSk7XHJcbiAgLy8gICBwLmNvbnRhY3ROYW1lID0gY29udGFjdE5hbWU7XHJcbiAgLy8gICBwLmNvbnRhY3RQaG9uZSA9IHBhcnNlSW50KGNvbnRhY3RQaG9uZSk7XHJcbiAgLy8gICBwLmNvbnRhY3RFbWFpbCA9IGNvbnRhY3RFbWFpbDtcclxuICAvL1xyXG4gIC8vICAgY29uc3QgaWQgPSBGYi5hcHAucHJvcGVydHlzUmVmLnB1c2goKS5rZXk7XHJcbiAgLy8gICBGYi5hcHAucHJvcGVydHlzUmVmLnVwZGF0ZSgge1tpZF06ICBwLnNlcmlhbGl6ZSgpIH0pO1xyXG4gIC8vIH1cclxuICAvL1xyXG4gIC8vXHJcbiAgLy8gLy8gRm9yIHRlc3Rpbmcgb25seSBtdXN0IGNyZWF0ZSBmaXJzdFxyXG4gIC8vIGFkZFByb3BlcnR5KHVzZXJOYW1lLCBuYW1lT2ZCdWlsZGluZywgbG9jYXRpb24sIHR5cGVUbywgdHlwZUJ5LCB0eXBlRm9yLCBwcmljZSApe1xyXG4gIC8vICAgICB2YXIgcCA9IHRoaXMucHJvcGVydHkgPSBuZXcgUHJvcGVydHloaygpO1xyXG4gIC8vICAgICBwLmRvbmUgPSBmYWxzZVxyXG4gIC8vICAgICBwLmNvbnRhY3ROYW1lID0gdXNlck5hbWVcclxuICAvLyAgICAgcC5uYW1lT2ZCdWlsZGluZyA9IG5hbWVPZkJ1aWxkaW5nXHJcbiAgLy8gICAgIHAubG9jYXRpb24gPSBsb2NhdGlvblxyXG4gIC8vICAgICBwLnNhbGVQcmljZSA9IHBhcnNlSW50KHByaWNlKVxyXG4gIC8vICAgICBwLnR5cGVUbyA9IHR5cGVUb1xyXG4gIC8vICAgICBwLnR5cGVCeSA9IHR5cGVCeVxyXG4gIC8vICAgICBwLnR5cGVGb3IgPSB0eXBlRm9yXHJcbiAgLy9cclxuICAvLyAgICAgY29uc3QgaWQgPSBGYi5hcHAucHJvcGVydHlzUmVmLnB1c2goKS5rZXk7XHJcbiAgLy8gICAgIEZiLmFwcC5wcm9wZXJ0eXNSZWYudXBkYXRlKCB7W2lkXTogIHAuc2VyaWFsaXplKCkgfSk7XHJcbiAgLy8gfVxyXG4gIC8vXHJcbiAgLy8gd3JpdGVOZXdQb3N0ID0gKHVpZCwgdXNlcm5hbWUsIHBpY3R1cmUsIHRpdGxlLCBib2R5KSA9PiB7XHJcbiAgLy8gICAvLyBBIHBvc3QgZW50cnkuXHJcbiAgLy8gICB2YXIgcG9zdERhdGEgPSB7XHJcbiAgLy8gICAgIGF1dGhvcjogdXNlcm5hbWUsXHJcbiAgLy8gICAgIHVpZDogdWlkLFxyXG4gIC8vICAgICBib2R5OiBib2R5LFxyXG4gIC8vICAgICB0aXRsZTogdGl0bGUsXHJcbiAgLy8gICAgIHN0YXJDb3VudDogMCxcclxuICAvLyAgICAgYXV0aG9yUGljOiBwaWN0dXJlXHJcbiAgLy8gICB9O1xyXG5cclxuICAgIC8vIEdldCBhIGtleSBmb3IgYSBuZXcgUG9zdC5cclxuICAgIC8vIHZhciBuZXdQb3N0S2V5ID0gRmIuYXBwLnByb3BlcnR5c1JlZi5jaGlsZCgncG9zdHMnKS5wdXNoKCkua2V5O1xyXG5cclxuICAgIC8vIFdyaXRlIHRoZSBuZXcgcG9zdCdzIGRhdGEgc2ltdWx0YW5lb3VzbHkgaW4gdGhlIHBvc3RzIGxpc3QgYW5kIHRoZSB1c2VyJ3MgcG9zdCBsaXN0LlxyXG4gIC8vICAgdmFyIHVwZGF0ZXMgPSB7fTtcclxuICAvLyAgIHVwZGF0ZXNbJy9wb3N0cy8nICsgbmV3UG9zdEtleV0gPSBwb3N0RGF0YTtcclxuICAvLyAgIHVwZGF0ZXNbJy91c2VyLXBvc3RzLycgKyB1aWQgKyAnLycgKyBuZXdQb3N0S2V5XSA9IHBvc3REYXRhO1xyXG4gIC8vXHJcbiAgLy8gICByZXR1cm4gRmIuYXBwLnByb3BlcnR5c1JlZi51cGRhdGUodXBkYXRlcyk7XHJcbiAgLy8gfVxyXG5cclxuICAvKipcclxuICAgKiBAY29tcGFyZVRvIGlzIG5hbWUgb2YgdmFyaWFibGUgZS5nLiBuYW1lLCBwcmljZSwgbG9jYXRpb25cclxuICAgKiBAdmFsdWVUbyAgIGlzIHZhbHVlIGVxdWFsIHRvLiAgZS5nLiAnc2hhdGluJ1xyXG4gICAqIHJldHVyblxyXG4gICAqL1xyXG4gIGdldE1hdGNoUHJvcGVydHkgPSAoaWQsIGNvbXBhcmVUbywgdmFsdWVUbyApID0+IHtcclxuICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgIGNvbnNvbGUubG9nKCdtYXRjaCcpXHJcblxyXG4gICAgLy90aGlzLndyaXRlTmV3UG9zdCggMTIzMywgJ2dvcmRvbicsICdwaWN0dXJlJywgJ3RpdGxlJywgJ2JvZHknKVxyXG5cclxuICAgIC8vIEhhbmRsZSBtYXRjaCBwcm9wZXJ0eXNcclxuICAgICBGYi5hcHAudXNlcnNSZWYub3JkZXJCeUNoaWxkKGNvbXBhcmVUbykuZXF1YWxUbyh2YWx1ZVRvKS5vbihcImNoaWxkX2FkZGVkXCIsIGZ1bmN0aW9uKHNuYXApIHtcclxuXHJcbiAgICAgICAgICBGYi5hcHAubWF0Y2hlZFByb3BlcnR5c1JlZi5jaGlsZCggc25hcC5rZXkgKS5zZXQoIHNuYXAudmFsKCkgKVxyXG4vLyAgICAgICAgICBGYi5hcHAucHJvcGVydHlzUmVmLnVwZGF0ZSggeyBzbmFwLmtleSA6IHsgfSB9KVxyXG4gICAgICAgICAgdGhhdC5tYXRjaGVkUHJvcGVydHlzLnNldCggc25hcC5rZXksIHNuYXAudmFsKCkgKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdtYXRjaFByb3BlcnR5LnNpemUnLCB0aGF0Lm1hdGNoZWRQcm9wZXJ0eXMuc2l6ZSlcclxuICAgICB9KTtcclxuXHJcbiAgICAgRmIuYXBwLnVzZXJzUmVmLm9yZGVyQnlDaGlsZChjb21wYXJlVG8pLmVxdWFsVG8odmFsdWVUbykub24oXCJjaGlsZF9yZW1vdmVkXCIsIGZ1bmN0aW9uKHNuYXApIHtcclxuXHJcbiAgICAgICAgIHRoYXQubWF0Y2hlZFByb3BlcnR5cy5kZWxldGUoIHNuYXAua2V5ICk7XHJcbiAgICAgICAgIGNvbnNvbGUubG9nKCdtYXRjaFByb3BlcnR5LnNpemUnLCB0aGF0Lm1hdGNoZWRQcm9wZXJ0eXMuc2l6ZSlcclxuICAgICB9KTtcclxuXHJcblxyXG4gIH1cclxuXHJcbiAgdXBkYXRlID0gKGlkLCBuYW1lKSA9PiB7XHJcbiAgICAgRmIuYXBwLnByb3BlcnR5c1JlZi51cGRhdGUoe1tpZF06IHsgbmFtZSB9IH0gIClcclxuICB9O1xyXG5cclxuICBkZWwgPSAoaWQpID0+IHtcclxuICAgIEZiLmFwcC5wcm9wZXJ0eXNSZWYuY2hpbGQoaWQpLnJlbW92ZSgpO1xyXG4gICAgRmIucHJvcGVydHlzLmNoaWxkKGlkKS5yZW1vdmUoKTtcclxuICAgIC8vdGhpcy5wcm9wZXJ0eXMuZGVsZXRlKCBpZCApO1xyXG4gIH07XHJcblxyXG4gIEBhY3Rpb25cclxuICBjbGVhciA9ICgpID0+IHtcclxuICAgIHRoaXMucHJvcGVydHlzLmNsZWFyKCk7XHJcbiAgICB0aGlzLm93blByb3BlcnR5cy5jbGVhcigpO1xyXG4gIH07XHJcbiAgXHJcbn1cclxuXHJcbmNvbnN0IHByb3BlcnR5cyA9IG5ldyBQcm9wZXJ0eXNWaWV3TW9kZWwoKTtcclxuZXhwb3J0IHtwcm9wZXJ0eXN9O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL3N0b3JlL3Byb3BlcnR5c1ZpZXdNb2RlbC5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQWlDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUEvREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWdFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQTdOQTs7Ozs7OztBQTRGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7O0FBeUdBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUlBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ })

})